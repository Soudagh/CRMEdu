databaseChangeLog:
  - changeSet:
      id: 007-delete-cascade-columns
      author: soudagh
      changes:
        - dropForeignKeyConstraint:
            baseTableName: subject
            baseTableSchemaName: crmedu
            constraintName: fk_subject_organization_id_organization
        - addForeignKeyConstraint:
            baseTableName: subject
            baseTableSchemaName: crmedu
            baseColumnNames: organization_id
            referencedTableName: organization
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_subject_organization_id_organization
            onDelete: CASCADE

        - dropForeignKeyConstraint:
            baseTableName: user
            baseTableSchemaName: crmedu
            constraintName: fk_user_organization_id_organization
        - addForeignKeyConstraint:
            baseTableName: user
            baseTableSchemaName: crmedu
            baseColumnNames: organization_id
            referencedTableName: organization
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_user_organization_id_organization
            onDelete: CASCADE

        - dropForeignKeyConstraint:
            baseTableName: tutor
            baseTableSchemaName: crmedu
            constraintName: fk_tutor_user_id_user
        - addForeignKeyConstraint:
            baseTableName: tutor
            baseTableSchemaName: crmedu
            baseColumnNames: user_id
            referencedTableName: user
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_tutor_user_id_user
            onDelete: CASCADE

        - dropForeignKeyConstraint:
            baseTableName: tutors_subjects
            baseTableSchemaName: crmedu
            constraintName: fk_tutors_subjects_tutor_id_tutor
        - addForeignKeyConstraint:
            baseTableName: tutors_subjects
            baseTableSchemaName: crmedu
            baseColumnNames: tutor_id
            referencedTableName: tutor
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_tutors_subjects_tutor_id_tutor
            onDelete: CASCADE

        - dropForeignKeyConstraint:
            baseTableName: tutors_subjects
            baseTableSchemaName: crmedu
            constraintName: fk_tutors_subjects_subject_id_subject
        - addForeignKeyConstraint:
            baseTableName: tutors_subjects
            baseTableSchemaName: crmedu
            baseColumnNames: subject_id
            referencedTableName: subject
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_tutors_subjects_subject_id_subject
            onDelete: CASCADE

        - dropForeignKeyConstraint:
            baseTableName: tutor_grades
            baseTableSchemaName: crmedu
            constraintName: fk_tutor_grades_tutor_id_tutor
        - addForeignKeyConstraint:
            baseTableName: tutor_grades
            baseTableSchemaName: crmedu
            baseColumnNames: tutor_id
            referencedTableName: tutor
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_tutor_grades_tutor_id_tutor
            onDelete: CASCADE

        - dropForeignKeyConstraint:
            baseTableName: tutor_free_time
            baseTableSchemaName: crmedu
            constraintName: fk_tutor_free_time_tutor_id_tutor
        - addForeignKeyConstraint:
            baseTableName: tutor_free_time
            baseTableSchemaName: crmedu
            baseColumnNames: tutor_id
            referencedTableName: tutor
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_tutor_free_time_tutor_id_tutor
            onDelete: CASCADE

        - dropForeignKeyConstraint:
            baseTableName: student
            baseTableSchemaName: crmedu
            constraintName: fk_student_organization_id_organization
        - addForeignKeyConstraint:
            baseTableName: student
            baseTableSchemaName: crmedu
            baseColumnNames: organization_id
            referencedTableName: organization
            referencedTableSchemaName: crmedu
            referencedColumnNames: id
            constraintName: fk_student_organization_id_organization
            onDelete: CASCADE
